<div class="current-dashboard-container">
  <!-- current dashboard header -->
  <div class="current-dashboard-header-block">
    <app-current-dashboard-header [currentDashboard]="currentDashboard$ | async" [currentUser]="currentUser$ | async" (toggleCurrentDashboardBookmark)="onToggleCurrentDashboardBookmark($event)"
      (addDashboardItem)="onAddDashboardItem($event)" (createFavoriteForCurrentDashboard)="onCreateFavoriteForCurrentDashboard($event)"
      (globalFilterChange)="onGlobalFilterChange($event)" [dashboardLoading]="dashboardLoading$ | async" [dashboardLoaded]="dashboardLoaded$ | async"></app-current-dashboard-header>
  </div>
  <!-- end of current dashboard header -->

  <!-- current dashboard visualization loader -->
  <div class="current-dashboard-visualizations" *ngIf="(currentDashboardVisualizationLoading$ | async)">

    <div class="visualization-card-block" [style.grid-column]="'span 4'" [style.grid-row]="'span 6'" *ngFor="let count of [1,2,3]">
      <app-dashboard-progress [borderRadius]="'3px'"></app-dashboard-progress>
    </div>

  </div>
  <!-- end of current dashboard visualization loader -->

  <!-- empty visualization placeholder -->
  <div class="welcoming-block" *ngIf="(currentDashboardVisualizationLoaded$ | async) && (currentDashboardVisualizationItems$ | async).length === 0">
    <div>
      <!--Welcoming image-->
      <div class="welcome-img-block">
        <img src="assets/img/welcome.png" class="img-fluid welcome-img" alt="">
      </div>
      <!--end of welcoming image-->
      <div class="col-md-8 offset-md-2">
        <h4 class="text-center">
          <b>{{welcomingTitle | translate}}</b>
        </h4>

        <h5 class="text-muted text-center">{{emptyVisualizationMessage | translate}}</h5>
      </div>
    </div>
  </div>
  <!-- end of empty visualization placeholder -->

  <!-- current dashboard visualizations -->
  <div class="current-dashboard-visualizations" *ngIf="(currentDashboardVisualizationLoaded$ | async)">

    <div class="visualization-card-block" [style.grid-column]="'span 4'" [style.grid-row]="'span 1'" *ngFor="let visualizationId of currentDashboardVisualizationItems$ | async">
      <ngx-dhis2-visualization [id]="visualizationId" [currentUser]="currentUser$ | async" [systemInfo]="systemInfo$ | async" [dashboardId]="(currentDashboard$ | async)?.id"
        (toggleFullScreen)="onToggleVisualizationFullScreen($event)" (deleteVisualization)="onDeleteVisualizationAction($event)"></ngx-dhis2-visualization>
    </div>

  </div>
  <!-- end of current dashboard visualizations -->
</div>